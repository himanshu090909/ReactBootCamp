{"ast":null,"code":"import _objectSpread from\"/home/himanshu/ReactBootCamp/ajax-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/himanshu/ReactBootCamp/ajax-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/himanshu/ReactBootCamp/ajax-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/himanshu/ReactBootCamp/ajax-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/himanshu/ReactBootCamp/ajax-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'../../../axios';import Post from'../../../components/Post/Post';import classes from'./posts.module.css';import{Route,Link}from'react-router-dom';var Posts=/*#__PURE__*/function(_Component){_inherits(Posts,_Component);var _super=_createSuper(Posts);function Posts(){var _this;_classCallCheck(this,Posts);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={posts:[]};_this.postSelectedHandler=function(id){// this.setState({selectedPostId:id});\n_this.props.history.push({pathname:'/'+id});};return _this;}_createClass(Posts,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(this.props);axios.get('/posts').then(function(response){var posts=response.data.slice(0,4);var updatedPosts=posts.map(function(post){return _objectSpread(_objectSpread({},post),{},{author:'himanshu'});});_this2.setState({posts:updatedPosts});// console.log(response); \n}).catch(function(error){console.log(error);//this.setState({error:true});\n});}},{key:\"render\",value:function render(){var _this3=this;var posts=/*#__PURE__*/React.createElement(\"p\",{style:{textAlign:'center'}},\"Something went wrong\");if(!this.state.error){posts=this.state.posts.map(function(post){return/*#__PURE__*/React.createElement(Link,{to:'/'+post.id,key:post.id},/*#__PURE__*/React.createElement(Post,{key:post.id,clicked:function clicked(){return _this3.postSelectedHandler(post.id);},title:post.title,author:post.author}));});}return/*#__PURE__*/React.createElement(\"section\",{className:classes.Posts},posts);}}]);return Posts;}(Component);export default Posts;","map":{"version":3,"sources":["/home/himanshu/ReactBootCamp/ajax-project/src/containers/Blog/Posts/Posts.js"],"names":["React","Component","axios","Post","classes","Route","Link","Posts","state","posts","postSelectedHandler","id","props","history","push","pathname","console","log","get","then","response","data","slice","updatedPosts","map","post","author","setState","catch","error","textAlign","title"],"mappings":"+wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,gBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,+BAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,OAASC,KAAT,CAAgBC,IAAhB,KAA4B,kBAA5B,C,GACMC,CAAAA,K,uTAGFC,K,CAAQ,CACJC,KAAK,CAAC,EADF,C,OAuBRC,mB,CAAoB,SAACC,EAAD,CAAM,CACvB;AAEA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,CAACC,QAAQ,CAAC,IAAIJ,EAAd,CAAxB,EACF,C,8FAvBD,iBACIK,OAAO,CAACC,GAAR,CAAY,KAAKL,KAAjB,EACAV,KAAK,CAACgB,GAAN,CAAU,QAAV,EACCC,IADD,CACM,SAAAC,QAAQ,CAAE,CACZ,GAAMX,CAAAA,KAAK,CAAGW,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,CAApB,CAAsB,CAAtB,CAAd,CACA,GAAMC,CAAAA,YAAY,CAAGd,KAAK,CAACe,GAAN,CAAU,SAAAC,IAAI,CAAE,CACjC,sCACOA,IADP,MAEIC,MAAM,CAAC,UAFX,GAIH,CALoB,CAArB,CAMA,MAAI,CAACC,QAAL,CAAc,CAAClB,KAAK,CAACc,YAAP,CAAd,EACF;AACD,CAXD,EAYCK,KAZD,CAYO,SAAAC,KAAK,CAAE,CACVb,OAAO,CAACC,GAAR,CAAYY,KAAZ,EACA;AACH,CAfD,EAgBH,C,uCAMQ,iBACL,GAAIpB,CAAAA,KAAK,cAAG,yBAAG,KAAK,CAAE,CAAEqB,SAAS,CAAE,QAAb,CAAV,yBAAZ,CACA,GAAI,CAAC,KAAKtB,KAAL,CAAWqB,KAAhB,CAAuB,CACnBpB,KAAK,CAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBe,GAAjB,CAAqB,SAAAC,IAAI,CAAI,CAEjC,mBACF,oBAAC,IAAD,EAAM,EAAE,CAAE,IAAMA,IAAI,CAACd,EAArB,CAAyB,GAAG,CAAEc,IAAI,CAACd,EAAnC,eACM,oBAAC,IAAD,EAAM,GAAG,CAAEc,IAAI,CAACd,EAAhB,CACA,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,mBAAL,CAAyBe,IAAI,CAACd,EAA9B,CAAN,EADT,CAEA,KAAK,CAAEc,IAAI,CAACM,KAFZ,CAGA,MAAM,CAAEN,IAAI,CAACC,MAHb,EADN,CADE,CAQH,CAVO,CAAR,CAWH,CACD,mBAEI,+BAAS,SAAS,CAAEtB,OAAO,CAACG,KAA5B,EACKE,KADL,CAFJ,CAOC,C,mBArDWR,S,EAwDpB,cAAeM,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react'\nimport axios from '../../../axios';\nimport Post from '../../../components/Post/Post';\nimport classes from './posts.module.css';\nimport { Route, Link } from 'react-router-dom';\nclass Posts extends Component {\n    \n    \n    state = {\n        posts:[]\n    }\n    componentDidMount()\n    {\n        console.log(this.props);\n        axios.get('/posts')\n        .then(response=>{\n            const posts = response.data.slice(0,4);\n            const updatedPosts = posts.map(post=>{\n                return{\n                    ...post,\n                    author:'himanshu'\n                }\n            })\n            this.setState({posts:updatedPosts});\n          // console.log(response); \n        })\n        .catch(error=>{\n            console.log(error);\n            //this.setState({error:true});\n        });\n    }\n    postSelectedHandler=(id)=>{\n       // this.setState({selectedPostId:id});\n\n       this.props.history.push({pathname:'/'+id});\n    }\n    render() {\n        let posts = <p style={{ textAlign: 'center' }}>Something went wrong</p>;\n        if (!this.state.error) {\n            posts = this.state.posts.map(post => {\n\n                return (\n              <Link to={'/' + post.id} key={post.id} >\n                    <Post key={post.id}\n                    clicked={() => this.postSelectedHandler(post.id)}\n                    title={post.title}\n                    author={post.author} />\n                </Link>\n                )\n            });\n        }\n        return (\n\n            <section className={classes.Posts}>\n                {posts}\n            </section>\n\n        )\n        }\n    }\n\nexport default Posts\n"]},"metadata":{},"sourceType":"module"}